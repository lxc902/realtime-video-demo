"""
配置文件 - 模型路径、量化设置和生成参数
"""
import os

# ============================================================
# 模型路径配置
# ============================================================
MODEL_PATH = None  # None = 从 HuggingFace 下载

# ============================================================
# 量化配置（由 run.sh --fp8/--int8/--int4 flag 控制）
# ============================================================
# 从环境变量读取（run.sh 会设置）
QUANTIZATION = os.getenv("QUANTIZATION", None)

# ============================================================
# 生成速度参数（已优化为最快）
# ============================================================

# 去噪步数：越少越快，但质量越差
# 推荐：2（极速）, 4（快速）, 5（平衡）, 8（高质量）
NUM_INFERENCE_STEPS = 2

# 强度：越低越快，但对输入的响应越弱
# 推荐：0.3（最快）, 0.45（平衡）, 0.6（高响应）
DEFAULT_STRENGTH = 0.35

# ============================================================
# V2V 帧缓存配置
# ============================================================

# 第一次 V2V 生成的帧数（KREA 模型 VAE 需要 12 帧才能正确编码）
V2V_INITIAL_FRAMES = 12

# 后续 V2V 生成的帧数（最小 3）
V2V_SUBSEQUENT_FRAMES = 3

# 每个 chunk 的帧数
FRAMES_PER_CHUNK = 12

# Session 超时时间（秒）
SESSION_TIMEOUT = 60
